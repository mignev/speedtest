!function(r){function e(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return r[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var t={};e.m=r,e.c=t,e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:n})},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},e.p="/",e(e.s=0)}([function(r,e){function t(r){return r.match(/\?/)?"&":"?"}function n(){if(f){for(var r=0;r<f.length;r++){if(g)try{f[r].cancelRequested=!0}catch(r){}try{f[r].onprogress=null,f[r].onload=null,f[r].onerror=null}catch(r){}try{f[r].upload.onprogress=null,f[r].upload.onload=null,f[r].upload.onerror=null}catch(r){}try{f[r].abort()}catch(r){}try{delete f[r]}catch(r){}}f=null}}function i(r){if("-1"==p.url_getIp)return void r();f=new XMLHttpRequest,f.onload=function(){_=f.responseText,r()},f.onerror=function(){r()},f.open("GET",p.url_getIp+t(p.url_getIp)+"r="+Math.random(),!0),f.send()}function o(r){if(!v){if(v=!0,"-1"==p.url_dl)return void r();var e=0,i=(new Date).getTime(),o=!1,a=!1;f=[];for(var l=function(r,n){setTimeout(function(){if(1===u){var n=0,i=new XMLHttpRequest;f[r]=i,f[r].onprogress=function(r){if(1!==u)try{i.abort()}catch(r){}var t=r.loaded<=0?0:r.loaded-n;isNaN(t)||!isFinite(t)||t<0||(e+=t,n=r.loaded)}.bind(this),f[r].onload=function(){try{f[r].abort()}catch(r){}l(r,0)}.bind(this),f[r].onerror=function(){0===p.xhr_ignoreErrors&&(a=!0);try{f[r].abort()}catch(r){}delete f[r],1===p.xhr_ignoreErrors&&l(r,100)}.bind(this);try{p.xhr_dlUseBlob?f[r].responseType="blob":f[r].responseType="arraybuffer"}catch(r){}f[r].open("GET",p.url_dl+t(p.url_dl)+"r="+Math.random()+"&ckSize="+p.garbagePhp_chunkSize,!0),f[r].send()}}.bind(this),1+n)}.bind(this),s=0;s<p.xhr_dlMultistream;s++)l(s,100*s);m=setInterval(function(){var t=(new Date).getTime()-i;if(!(t<200))if(o){var l=e/(t/1e3);d=(8*l*p.overheadCompensationFactor/1048576).toFixed(2),(t/1e3>p.time_dl&&d>0||a)&&((a||isNaN(d))&&(d="Fail"),n(),clearInterval(m),r())}else t>1e3*p.time_dlGraceTime&&(e>0&&(i=(new Date).getTime(),e=0),o=!0)}.bind(this),200)}}function a(r){if(!M){if(M=!0,"-1"==p.url_ul)return void r();var e=0,i=(new Date).getTime(),o=!1,a=!1;f=[];for(var l=function(r,n){setTimeout(function(){if(3===u){var n=0,i=new XMLHttpRequest;f[r]=i;var o;try{f[r].upload.onprogress,o=!1}catch(r){o=!0}o?(f[r].onload=function(){e+=262144,l(r,0)},f[r].onerror=function(){0===p.xhr_ignoreErrors&&(a=!0);try{f[r].abort()}catch(r){}delete f[r],1===p.xhr_ignoreErrors&&l(r,100)},f[r].open("POST",p.url_ul+t(p.url_ul)+"r="+Math.random(),!0),f[r].setRequestHeader("Content-Encoding","identity"),f[r].send(T)):(f[r].upload.onprogress=function(r){if(3!==u)try{i.abort()}catch(r){}var t=r.loaded<=0?0:r.loaded-n;isNaN(t)||!isFinite(t)||t<0||(e+=t,n=r.loaded)}.bind(this),f[r].upload.onload=function(){l(r,0)}.bind(this),f[r].upload.onerror=function(){0===p.xhr_ignoreErrors&&(a=!0);try{f[r].abort()}catch(r){}delete f[r],1===p.xhr_ignoreErrors&&l(r,100)}.bind(this),f[r].open("POST",p.url_ul+t(p.url_ul)+"r="+Math.random(),!0),f[r].setRequestHeader("Content-Encoding","identity"),f[r].send(y))}}.bind(this),1)}.bind(this),d=0;d<p.xhr_ulMultistream;d++)l(d,100*d);m=setInterval(function(){var t=(new Date).getTime()-i;if(!(t<200))if(o){var l=e/(t/1e3);s=(8*l*p.overheadCompensationFactor/1048576).toFixed(2),(t/1e3>p.time_ul&&s>0||a)&&((a||isNaN(s))&&(s="Fail"),n(),clearInterval(m),r())}else t>1e3*p.time_ulGraceTime&&(e>0&&(i=(new Date).getTime(),e=0),o=!0)}.bind(this),200)}}function l(r){if(!w){if(w=!0,"-1"==p.url_ping)return void r();var e=null,i=0,o=0,a=0,l=0;f=[];var u=function(){e=(new Date).getTime(),f[0]=new XMLHttpRequest,f[0].onload=function(){if(0===a)e=(new Date).getTime();else{var t=(new Date).getTime()-e,n=Math.abs(t-l);1===a?i=t:(i=.9*i+.1*t,o=n>o?.2*o+.8*n:.9*o+.1*n),l=t}c=i.toFixed(2),h=o.toFixed(2),a++,a<p.count_ping?u():r()}.bind(this),f[0].onerror=function(){0===p.xhr_ignoreErrors&&(c="Fail",h="Fail",n(),r()),1===p.xhr_ignoreErrors&&u(),2===p.xhr_ignoreErrors&&(a++,a<p.count_ping?u():r())}.bind(this),f[0].open("GET",p.url_ping+t(p.url_ping)+"r="+Math.random(),!0),f[0].send()}.bind(this);u()}}var u=0,d="",s="",c="",h="",_="",p={time_ul:15,time_dl:15,time_ulGraceTime:3,time_dlGraceTime:1.5,count_ping:35,url_dl:"garbage.php",url_ul:"empty.php",url_ping:"empty.php",url_getIp:"https://api.ipify.org/",xhr_dlMultistream:10,xhr_ulMultistream:3,xhr_ignoreErrors:1,xhr_dlUseBlob:!1,garbagePhp_chunkSize:20,enable_quirks:!0,overheadCompensationFactor:1048576/925e3},f=null,m=null,g=!1;self.addEventListener("message",function(r){var e=r.data.split(" ");if("status"===e[0]&&postMessage(u+";"+d+";"+s+";"+c+";"+_+";"+h),"start"===e[0]&&0===u){u=1;try{var t={};try{var f=r.data.substring(5);f&&(t=JSON.parse(f))}catch(r){}if(void 0!==t.url_dl&&(p.url_dl=t.url_dl),void 0!==t.url_ul&&(p.url_ul=t.url_ul),void 0!==t.url_ping&&(p.url_ping=t.url_ping),void 0!==t.url_getIp&&(p.url_getIp=t.url_getIp),void 0!==t.time_dl&&(p.time_dl=t.time_dl),void 0!==t.time_ul&&(p.time_ul=t.time_ul),void 0!==t.enable_quirks&&(p.enable_quirks=t.enable_quirks),p.enable_quirks){var g=navigator.userAgent;/Firefox.(\d+\.\d+)/i.test(g)&&(p.xhr_ulMultistream=1),/Edge.(\d+\.\d+)/i.test(g)&&(p.xhr_dlMultistream=3),/Chrome.(\d+)/i.test(g)&&self.fetch&&(p.xhr_dlMultistream=5)}void 0!==t.count_ping&&(p.count_ping=t.count_ping),void 0!==t.xhr_dlMultistream&&(p.xhr_dlMultistream=t.xhr_dlMultistream),void 0!==t.xhr_ulMultistream&&(p.xhr_ulMultistream=t.xhr_ulMultistream),void 0!==t.xhr_ignoreErrors&&(p.xhr_ignoreErrors=t.xhr_ignoreErrors),void 0!==t.xhr_dlUseBlob&&(p.xhr_dlUseBlob=t.xhr_dlUseBlob),void 0!==t.garbagePhp_chunkSize&&(p.garbagePhp_chunkSize=t.garbagePhp_chunkSize),void 0!==t.time_dlGraceTime&&(p.time_dlGraceTime=t.time_dlGraceTime),void 0!==t.time_ulGraceTime&&(p.time_ulGraceTime=t.time_ulGraceTime),void 0!==t.overheadCompensationFactor&&(p.overheadCompensationFactor=t.overheadCompensationFactor)}catch(r){}i(function(){o(function(){u=2,l(function(){u=3,a(function(){u=4})})})})}"abort"===e[0]&&(n(),m&&clearInterval(m),u=5,d="",s="",c="",h="")});var v=!1,b=new ArrayBuffer(1048576);try{b=new Float32Array(b);for(var x=0;x<b.length;x++)b[x]=Math.random()}catch(r){}for(var y=[],T=[],x=0;x<20;x++)y.push(b);y=new Blob(y),b=new ArrayBuffer(262144);try{b=new Float32Array(b);for(var x=0;x<b.length;x++)b[x]=Math.random()}catch(r){}T.push(b),T=new Blob(T);var M=!1,w=!1}]);